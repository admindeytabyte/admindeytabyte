<div class="row" *ngIf="errorMessage">
    <div class="col col-sm-6 col-md-8 col-lg-12">
        <tc-alert [removable]="true" [view]="'error'">
            {{ errorMessage }}
        </tc-alert>
    </div>
</div>
<p>Product Lines Editor</p>
<div class="row">
    <div class="col-md-12 text-md-center">
        <dx-data-grid [dataSource]="productLines" [showBorders]="true" [height]="650" class="invoiceGrid gridContainer"
            [remoteOperations]="false" [allowColumnReordering]="true" [rowAlternationEnabled]="true"
            [showBorders]="true" keyExpr="lineId" [wordWrapEnabled]="true" (onRowUpdated)="ProductLinesUpdated($event)"
            (onRowRemoved)="ProductLinesDeleted($event)" (onRowInserted)="ProductLinesAdded($event)">
            <dxo-filter-row [visible]="true"></dxo-filter-row>
            <dxo-editing mode="batch" [allowUpdating]="true" [selectTextOnEditStart]=true startEditAction="click"
                [allowUpdating]="true" [allowAdding]="true" [allowUpdating]="true" [allowDeleting]="true"
                [useIcons]="true">
            </dxo-editing>
            <dxo-header-filter [visible]="true"></dxo-header-filter>
            <dxo-scrolling mode="infinite"></dxo-scrolling>
            <dxo-selection mode="single"></dxo-selection>
            <dxo-paging [enabled]="false"></dxo-paging>
            <dxi-column dataField="lineId" [visible]="false" caption="Id" [width]="80" [allowEditing]="false">
            </dxi-column>
            <dxi-column dataField="lineType" caption="Type" [width]="100">
                <dxi-validation-rule type="required"></dxi-validation-rule>
                <dxo-lookup [dataSource]="productLineTypes" displayExpr="lineTypeDesc" valueExpr="lineTypeId">
                </dxo-lookup>
            </dxi-column>
            <dxi-column dataField="line" caption="Line" [width]="100">
                <dxi-validation-rule type="required"></dxi-validation-rule>
            </dxi-column>
            <dxi-column dataField="description" caption="Description">
            </dxi-column>
            <dxi-column dataField="productCount" alignment="center" caption="# Products" [width]="120">
            </dxi-column>
        </dx-data-grid>
    </div>
</div>